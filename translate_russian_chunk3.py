#!/usr/bin/env python3
"""
Add complete Russian translations for questions 61-90
Maritime/nautical terminology for Mauritius skipper exam
"""
import json
import os
import tempfile

# Russian translations for questions 61-90
translations = {
    61: {
        "question": "Какое из следующих действий НЕ рекомендуется перед выходом в море?",
        "options": {
            "A": "проверить прогноз погоды",
            "B": "проверить топливо и воду",
            "C": "сообщить кому-то о вашем плане",
            "D": "выйти без проверки оборудования"
        }
    },
    62: {
        "question": "Килеватость судна - это",
        "options": {
            "A": "угол наклона судна",
            "B": "глубина судна под водой",
            "C": "ширина судна",
            "D": "длина судна"
        }
    },
    63: {
        "question": "Какое из следующих утверждений ВЕРНО?",
        "options": {
            "A": "судно с механическим двигателем всегда имеет право прохода",
            "B": "парусное судно всегда имеет право прохода",
            "C": "судно, ограниченное в маневренности, имеет право прохода",
            "D": "быстрое судно имеет право прохода"
        }
    },
    64: {
        "question": "При подходе к другому судну ночью вы видите зеленый огонь. Это означает, что вы видите",
        "options": {
            "A": "левый борт судна",
            "B": "правый борт судна",
            "C": "корму судна",
            "D": "нос судна"
        }
    },
    65: {
        "question": "Минимальное количество спасательных жилетов на борту должно равняться",
        "options": {
            "A": "половине количества людей на борту",
            "B": "количеству людей на борту",
            "C": "количеству людей на борту плюс один",
            "D": "двум на каждое судно"
        }
    },
    66: {
        "question": "Согласно приведенному выше изображению, если вы входите в гавань, вы должны оставить",
        "options": {
            "A": "красный буй слева и зеленый буй справа",
            "B": "зеленый буй слева и красный буй справа",
            "C": "оба буя справа",
            "D": "оба буя слева"
        }
    },
    67: {
        "question": "VHF означает",
        "options": {
            "A": "очень высокая частота",
            "B": "изменяемая высокая частота",
            "C": "вертикальная высокая частота",
            "D": "видимая высокая частота"
        }
    },
    68: {
        "question": "Какое из следующих утверждений НЕВЕРНО?",
        "options": {
            "A": "опьянение является правонарушением при управлении судном",
            "B": "шкипер несет ответственность за безопасность всех на борту",
            "C": "можно управлять судном без лицензии в пределах лагуны",
            "D": "превышение скорости в лагуне является правонарушением"
        }
    },
    69: {
        "question": "Это судно",
        "options": {
            "A": "ограничено в маневренности",
            "B": "лишено возможности управляться",
            "C": "занято рыболовством",
            "D": "стоит на якоре"
        }
    },
    70: {
        "question": "Это судно",
        "options": {
            "A": "лишено возможности управляться",
            "B": "ограничено в маневренности",
            "C": "занято буксировкой",
            "D": "парусное судно"
        }
    },
    71: {
        "question": "Один длинный звуковой сигнал означает",
        "options": {
            "A": "я изменяю курс вправо",
            "B": "я изменяю курс влево",
            "C": "я даю задний ход",
            "D": "предупреждение или сомнение"
        }
    },
    72: {
        "question": "Это знак",
        "options": {
            "A": "северного кардинального буя",
            "B": "южного кардинального буя",
            "C": "восточного кардинального буя",
            "D": "западного кардинального буя"
        }
    },
    73: {
        "question": "Это знак",
        "options": {
            "A": "северного кардинального буя",
            "B": "южного кардинального буя",
            "C": "восточного кардинального буя",
            "D": "западного кардинального буя"
        }
    },
    74: {
        "question": "Это знак",
        "options": {
            "A": "буя безопасных вод",
            "B": "буя изолированной опасности",
            "C": "буя специальной зоны",
            "D": "западного кардинального буя"
        }
    },
    75: {
        "question": "Это знак",
        "options": {
            "A": "зеленого конического буя",
            "B": "красного цилиндрического буя",
            "C": "буя безопасных вод",
            "D": "северного кардинального буя"
        }
    },
    76: {
        "question": "Это знак",
        "options": {
            "A": "красного цилиндрического буя",
            "B": "зеленого конического буя",
            "C": "буя безопасных вод",
            "D": "буя изолированной опасности"
        }
    },
    77: {
        "question": "Это знак",
        "options": {
            "A": "буя специальной зоны",
            "B": "буя безопасных вод",
            "C": "буя изолированной опасности",
            "D": "западного кардинального буя"
        }
    },
    78: {
        "question": "Это знак",
        "options": {
            "A": "буя безопасных вод",
            "B": "буя изолированной опасности",
            "C": "северного кардинального буя",
            "D": "буя специальной зоны"
        }
    },
    79: {
        "question": "Это судно",
        "options": {
            "A": "лишено возможности управляться",
            "B": "ограничено осадкой",
            "C": "занято рыболовством",
            "D": "стоит на мели"
        }
    },
    80: {
        "question": "Какое из следующих утверждений ВЕРНО относительно ремней безопасности?",
        "options": {
            "A": "они нужны только на быстрых лодках",
            "B": "их следует использовать при движении на высокой скорости",
            "C": "они не нужны на малых судах",
            "D": "они обязательны только для детей"
        }
    },
    81: {
        "question": "Это судно",
        "options": {
            "A": "занято тралением",
            "B": "занято буксировкой",
            "C": "лишено возможности управляться",
            "D": "ограничено в маневренности"
        }
    },
    82: {
        "question": "Это судно",
        "options": {
            "A": "на якоре",
            "B": "на мели",
            "C": "занято рыболовством",
            "D": "лишено возможности управляться"
        }
    },
    83: {
        "question": "Два коротких звуковых сигнала означают",
        "options": {
            "A": "я изменяю курс вправо",
            "B": "я изменяю курс влево",
            "C": "я даю задний ход",
            "D": "я не могу маневрировать"
        }
    },
    84: {
        "question": "Три коротких звуковых сигнала означают",
        "options": {
            "A": "я изменяю курс вправо",
            "B": "я изменяю курс влево",
            "C": "я работаю задним ходом",
            "D": "опасность столкновения"
        }
    },
    85: {
        "question": "Пять или более коротких звуковых сигналов означают",
        "options": {
            "A": "я изменяю курс вправо",
            "B": "я изменяю курс влево",
            "C": "сомнение в намерениях другого судна",
            "D": "я стою на якоре"
        }
    },
    86: {
        "question": "При постановке на якорь, якорный трос должен быть",
        "options": {
            "A": "полностью выпущен сразу",
            "B": "выпущен медленно по мере остановки судна",
            "C": "привязан к носу перед сбросом",
            "D": "сброшен на полной скорости"
        }
    },
    87: {
        "question": "Это судно",
        "options": {
            "A": "парусное судно",
            "B": "судно с механическим двигателем",
            "C": "судно на якоре",
            "D": "судно на мели"
        }
    },
    88: {
        "question": "Навигационные огни должны быть видны на расстоянии не менее",
        "options": {
            "A": "1 морская миля",
            "B": "2 морских мили",
            "C": "3 морских мили",
            "D": "5 морских миль"
        }
    },
    89: {
        "question": "Какое из следующих утверждений НЕВЕРНО относительно огнетушителей?",
        "options": {
            "A": "они должны регулярно проверяться",
            "B": "они должны быть легкодоступными",
            "C": "можно использовать воду для тушения электрического пожара",
            "D": "на борту должно быть достаточно огнетушителей"
        }
    },
    90: {
        "question": "Осадка судна - это",
        "options": {
            "A": "ширина судна",
            "B": "длина судна",
            "C": "глубина судна под водой от ватерлинии до киля",
            "D": "высота судна над водой"
        }
    }
}

def apply_translations():
    """Apply Russian translations to questions 61-90"""
    
    with open('quiz-data-final.json', 'r', encoding='utf-8') as f:
        quiz_data = json.load(f)
    
    count = 0
    for question in quiz_data:
        q_id = question['id']
        if q_id in translations:
            question['translations']['ru'] = translations[q_id]
            count += 1
    
    # Write atomically
    temp_fd, temp_path = tempfile.mkstemp(suffix='.json', text=True)
    try:
        with os.fdopen(temp_fd, 'w', encoding='utf-8') as f:
            json.dump(quiz_data, f, ensure_ascii=False, indent=2)
        os.replace(temp_path, 'quiz-data-final.json')
        print(f"✓ Translated questions 61-90 ({count} questions)")
    except Exception as e:
        os.unlink(temp_path)
        raise e

if __name__ == "__main__":
    apply_translations()
