#!/usr/bin/env python3
"""
Add complete Russian translations for questions 31-60
Maritime/nautical terminology for Mauritius skipper exam
"""
import json
import os
import tempfile

# Russian translations for questions 31-60
translations = {
    31: {
        "question": "В соответствии с МППСС, какое из следующих судов имеет право прохода?",
        "options": {
            "A": "парусное судно над судном с механическим двигателем",
            "B": "судно с механическим двигателем над парусным судном",
            "C": "большее судно над меньшим",
            "D": "быстрое судно над медленным"
        }
    },
    32: {
        "question": "Какое из следующих действий НЕ рекомендуется при постановке на якорь?",
        "options": {
            "A": "выбрать защищенное место",
            "B": "проверить глубину воды",
            "C": "выпустить достаточную длину якорной цепи",
            "D": "заякориться в главном судоходном канале"
        }
    },
    33: {
        "question": "Спасательные жилеты должны",
        "options": {
            "A": "храниться в запертом шкафчике",
            "B": "быть доступными для всех на борту",
            "C": "надеваться только детьми",
            "D": "надеваться только в плохую погоду"
        }
    },
    34: {
        "question": "При встрече с другим судном лоб в лоб, какой маневр должен выполнить каждый шкипер?",
        "options": {
            "A": "повернуть влево",
            "B": "повернуть вправо",
            "C": "остановиться",
            "D": "подать звуковой сигнал"
        }
    },
    35: {
        "question": "Минимальный возраст для получения лицензии шкипера категории A составляет",
        "options": {
            "A": "16 лет",
            "B": "18 лет",
            "C": "21 год",
            "D": "25 лет"
        }
    },
    36: {
        "question": "Огни судна должны быть включены",
        "options": {
            "A": "только ночью",
            "B": "от заката до рассвета и при ограниченной видимости",
            "C": "только в тумане",
            "D": "только при входе в гавань"
        }
    },
    37: {
        "question": "Красная ракета означает",
        "options": {
            "A": "требуется помощь",
            "B": "судно стоит на якоре",
            "C": "судно ведет рыболовство",
            "D": "судно маневрирует"
        }
    },
    38: {
        "question": "При движении задним ходом румпель должен быть повернут",
        "options": {
            "A": "в том же направлении, куда вы хотите, чтобы пошла корма",
            "B": "в противоположном направлении от того, куда вы хотите, чтобы пошла корма",
            "C": "всегда влево",
            "D": "всегда вправо"
        }
    },
    39: {
        "question": "Лицензия шкипера категории A позволяет управлять прогулочным судном на расстоянии до",
        "options": {
            "A": "3 морских миль от берега",
            "B": "5 морских миль от берега",
            "C": "10 морских миль от берега",
            "D": "15 морских миль от берега"
        }
    },
    40: {
        "question": "При якорной стоянке рекомендуется выпустить якорную цепь длиной",
        "options": {
            "A": "равной глубине воды",
            "B": "в два раза больше глубины воды",
            "C": "в три-четыре раза больше глубины воды",
            "D": "в пять раз больше глубины воды"
        }
    },
    41: {
        "question": "Какое из следующих утверждений НЕВЕРНО относительно огней судна?",
        "options": {
            "A": "зеленый огонь показывается с правого борта",
            "B": "красный огонь показывается с левого борта",
            "C": "белый огонь показывается на корме",
            "D": "желтый огонь показывается на носу"
        }
    },
    42: {
        "question": "Что означает MAYDAY?",
        "options": {
            "A": "срочное медицинское сообщение",
            "B": "сообщение о безопасности",
            "C": "сигнал бедствия",
            "D": "просьба о погодной информации"
        }
    },
    43: {
        "question": "Лицензия шкипера должна быть продлена каждые",
        "options": {
            "A": "1 год",
            "B": "2 года",
            "C": "3 года",
            "D": "5 лет"
        }
    },
    44: {
        "question": "При буксировке воднолыжника минимальное расстояние от других судов или пловцов должно быть",
        "options": {
            "A": "50 метров",
            "B": "100 метров",
            "C": "150 метров",
            "D": "200 метров"
        }
    },
    45: {
        "question": "Корма судна - это",
        "options": {
            "A": "передняя часть",
            "B": "задняя часть",
            "C": "правая сторона",
            "D": "левая сторона"
        }
    },
    46: {
        "question": "Какое из следующих действий следует предпринять в первую очередь при обнаружении пожара на борту?",
        "options": {
            "A": "прыгнуть за борт",
            "B": "подать сигнал бедствия",
            "C": "отключить топливо и электричество",
            "D": "попытаться потушить огонь"
        }
    },
    47: {
        "question": "Левый борт судна - это",
        "options": {
            "A": "передняя часть",
            "B": "задняя часть",
            "C": "правая сторона, если смотреть вперед",
            "D": "левая сторона, если смотреть вперед"
        }
    },
    48: {
        "question": "Максимальная скорость в пределах 300 метров от берега составляет",
        "options": {
            "A": "3 узла",
            "B": "5 узлов",
            "C": "8 узлов",
            "D": "10 узлов"
        }
    },
    49: {
        "question": "Какое из следующих утверждений ВЕРНО относительно ВМФ радио?",
        "options": {
            "A": "канал 16 можно использовать для длительных разговоров",
            "B": "можно передавать на канале 16 в любое время",
            "C": "после установления связи на канале 16 следует перейти на рабочий канал",
            "D": "канал 16 предназначен только для коммерческих судов"
        }
    },
    50: {
        "question": "При движении в тумане судно должно",
        "options": {
            "A": "двигаться с максимальной скоростью",
            "B": "подавать звуковые сигналы",
            "C": "выключить все огни",
            "D": "продолжать движение без изменений"
        }
    },
    51: {
        "question": "Оранжевый дым означает",
        "options": {
            "A": "судно празднует",
            "B": "сигнал бедствия",
            "C": "судно маневрирует",
            "D": "судно стоит на якоре"
        }
    },
    52: {
        "question": "Какое из следующих утверждений НЕВЕРНО?",
        "options": {
            "A": "спасательные жилеты должны быть в хорошем состоянии",
            "B": "дети должны всегда носить спасательные жилеты на борту",
            "C": "спасательные жилеты должны соответствовать размеру владельца",
            "D": "спасательные жилеты не нужны в спокойную погоду"
        }
    },
    53: {
        "question": "Это",
        "options": {
            "A": "восточный кардинальный буй",
            "B": "западный кардинальный буй",
            "C": "северный кардинальный буй",
            "D": "южный кардинальный буй"
        }
    },
    54: {
        "question": "Судно, обгоняющее другое судно, должно",
        "options": {
            "A": "держаться подальше от обгоняемого судна",
            "B": "иметь право прохода",
            "C": "подать три коротких звуковых сигнала",
            "D": "обгонять только с правой стороны"
        }
    },
    55: {
        "question": "Наиболее важным фактором при определении безопасной скорости является",
        "options": {
            "A": "мощность двигателя",
            "B": "видимость и условия движения",
            "C": "размер судна",
            "D": "расстояние до порта"
        }
    },
    56: {
        "question": "Это знак",
        "options": {
            "A": "безопасных вод",
            "B": "изолированной опасности",
            "C": "западного кардинального буя",
            "D": "специальной зоны"
        }
    },
    57: {
        "question": "Якорь должен быть сброшен",
        "options": {
            "A": "после остановки судна",
            "B": "на полной скорости",
            "C": "только в глубокой воде",
            "D": "только в мелкой воде"
        }
    },
    58: {
        "question": "Согласно МППСС, если два судна с механическим двигателем пересекают курсы так, что существует риск столкновения",
        "options": {
            "A": "оба судна должны повернуть вправо",
            "B": "судно, у которого другое судно справа, должно уступить дорогу",
            "C": "судно, у которого другое судно слева, должно уступить дорогу",
            "D": "большее судно имеет право прохода"
        }
    },
    59: {
        "question": "Человек за бортом! Что следует сделать в первую очередь?",
        "options": {
            "A": "прыгнуть за ним",
            "B": "бросить спасательный круг",
            "C": "подать сигнал бедствия MAYDAY",
            "D": "развернуть судно"
        }
    },
    60: {
        "question": "Якорный огонь - это",
        "options": {
            "A": "красный огонь на корме",
            "B": "зеленый огонь на носу",
            "C": "белый круговой огонь",
            "D": "желтый мигающий огонь"
        }
    }
}

def apply_translations():
    """Apply Russian translations to questions 31-60"""
    
    with open('quiz-data-final.json', 'r', encoding='utf-8') as f:
        quiz_data = json.load(f)
    
    count = 0
    for question in quiz_data:
        q_id = question['id']
        if q_id in translations:
            question['translations']['ru'] = translations[q_id]
            count += 1
    
    # Write atomically
    temp_fd, temp_path = tempfile.mkstemp(suffix='.json', text=True)
    try:
        with os.fdopen(temp_fd, 'w', encoding='utf-8') as f:
            json.dump(quiz_data, f, ensure_ascii=False, indent=2)
        os.replace(temp_path, 'quiz-data-final.json')
        print(f"✓ Translated questions 31-60 ({count} questions)")
    except Exception as e:
        os.unlink(temp_path)
        raise e

if __name__ == "__main__":
    apply_translations()
