#!/usr/bin/env python3
"""
Add complete Russian translations for questions 1-30
Maritime/nautical terminology for Mauritius skipper exam
"""
import json
import os
import tempfile

# Russian translations for questions 1-30
translations = {
    1: {
        "question": "В каком из следующих сценариев шкипер совершит правонарушение в соответствии с Законом о туризме 2006 года?",
        "options": {
            "A": "управление прогулочным судном без второго человека на борту для несения вахты",
            "B": "управление прогулочным судном без навигационных огней в лунную ночь",
            "C": "управление прогулочным судном со скоростью 27 узлов в открытом море, когда другие суда не видны",
            "D": "управление прогулочным судном на расстоянии 21,5 морских миль от берега Флик-ан-Флак, имея категорию"
        }
    },
    2: {
        "question": "При сообщении о положении вашего судна в море с помощью этого магнитного компаса необходимо указать правильное направление относительно маяка как",
        "options": {
            "A": "345°",
            "B": "185°",
            "C": "350°",
            "D": "165°"
        }
    },
    3: {
        "question": "Этот знак указывает на",
        "options": {
            "A": "безопасные воды",
            "B": "изолированную опасность",
            "C": "опасность слева",
            "D": "опасность справа"
        }
    },
    4: {
        "question": "Изолированная опасность обозначена следующим знаком",
        "options": {
            "A": "красный конус",
            "B": "зеленый конус",
            "C": "черные сферы на красном и черном буе",
            "D": "красные и белые вертикальные полосы"
        }
    },
    5: {
        "question": "Шкипер может получить информацию о погоде на ВМФ канале",
        "options": {
            "A": "12",
            "B": "16",
            "C": "71",
            "D": "72"
        }
    },
    6: {
        "question": "В соответствии с МППСС, когда два судна с механическим двигателем идут прямо друг на друга так, что существует риск столкновения, какой маневр должен выполнить шкипер?",
        "options": {
            "A": "изменить курс влево и пройти правым бортом к правому борту другого судна",
            "B": "остаться на том же курсе и пройти примерно в 100 м справа от этого буя",
            "C": "изменить курс вправо и пройти левым бортом к левому борту другого судна",
            "D": "изменить курс вправо и пройти правым бортом к правому борту другого судна"
        }
    },
    7: {
        "question": "Что означает МППСС?",
        "options": {
            "A": "Международные правила предупреждения столкновений на море",
            "B": "Международная конвенция по охране человеческой жизни на море",
            "C": "Международный кодекс безопасности судоходства",
            "D": "Международная ассоциация портов и гаваней"
        }
    },
    8: {
        "question": "Порт находится в следующем направлении от вашего текущего местоположения",
        "options": {
            "A": "северо-восток",
            "B": "юго-запад",
            "C": "северо-запад",
            "D": "юго-восток"
        }
    },
    9: {
        "question": "Вы плывете на север, и ветер дует с северо-востока. Направление ветра относительно вашего судна",
        "options": {
            "A": "справа по носу",
            "B": "слева по носу",
            "C": "справа по корме",
            "D": "слева по корме"
        }
    },
    10: {
        "question": "Имея компас, показанный выше, текущий курс судна",
        "options": {
            "A": "045°",
            "B": "090°",
            "C": "135°",
            "D": "270°"
        }
    },
    11: {
        "question": "В соответствии с кардинальной системой буев это",
        "options": {
            "A": "северный буй",
            "B": "южный буй",
            "C": "восточный буй",
            "D": "западный буй"
        }
    },
    12: {
        "question": "Максимальная скорость для прогулочных судов в лагуне составляет",
        "options": {
            "A": "5 узлов",
            "B": "10 узлов",
            "C": "15 узлов",
            "D": "20 узлов"
        }
    },
    13: {
        "question": "Пожалуйста, укажите название части А судна",
        "options": {
            "A": "корма",
            "B": "левый борт",
            "C": "нос",
            "D": "правый борт"
        }
    },
    14: {
        "question": "Шкипер может связаться со станцией управления порта Луи, Port Louis Harbour Control, на канале ВМФ",
        "options": {
            "A": "12",
            "B": "16",
            "C": "14",
            "D": "71"
        }
    },
    15: {
        "question": "Угловое расстояние между истинным севером и магнитным севером называется",
        "options": {
            "A": "компасная девиация",
            "B": "магнитное склонение",
            "C": "азимут",
            "D": "пеленг"
        }
    },
    16: {
        "question": "Безопасные воды обозначены буем следующего типа",
        "options": {
            "A": "красный конус",
            "B": "зеленый конус",
            "C": "черные сферы на красном и черном буе",
            "D": "красные и белые вертикальные полосы с красной сферой"
        }
    },
    17: {
        "question": "Боковая система буев обозначает",
        "options": {
            "A": "безопасные воды",
            "B": "левую и правую стороны канала",
            "C": "изолированную опасность",
            "D": "специальную зону"
        }
    },
    18: {
        "question": "Согласно приведенному выше рисунку, вы выходите из гавани по каналу. Какой из следующих курсов вам следует выбрать?",
        "options": {
            "A": "оставить красный буй слева и зеленый буй справа",
            "B": "оставить зеленый буй слева и красный буй справа",
            "C": "оставить красный буй с любой стороны",
            "D": "оставить зеленый буй с любой стороны"
        }
    },
    19: {
        "question": "Вы находитесь в море у побережья Порт-Луи и слышите радиовызов, начинающийся со слов SECURITE SECURITE SECURITE. Это означает, что следующее сообщение касается",
        "options": {
            "A": "опасности для жизни",
            "B": "безопасности навигации",
            "C": "срочного медицинского сообщения",
            "D": "пожара на борту судна"
        }
    },
    20: {
        "question": "Какое из следующих утверждений НЕВЕРНО в отношении морских буев?",
        "options": {
            "A": "кардинальные буи указывают на четыре квадранта относительно опасности",
            "B": "боковые буи обозначают левую и правую стороны канала",
            "C": "буи изолированной опасности устанавливаются прямо над опасностью",
            "D": "буи безопасных вод всегда красного цвета"
        }
    },
    21: {
        "question": "В соответствии с МППСС, судно, которое обязано уступить дорогу, называется",
        "options": {
            "A": "судно, которое должно уступить дорогу",
            "B": "судно, которое должно держаться на курсе",
            "C": "привилегированное судно",
            "D": "обгоняющее судно"
        }
    },
    22: {
        "question": "Канал бедствия ВМФ",
        "options": {
            "A": "канал 12",
            "B": "канал 14",
            "C": "канал 16",
            "D": "канал 71"
        }
    },
    23: {
        "question": "Что из следующего НЕ является частью пожарного треугольника?",
        "options": {
            "A": "кислород",
            "B": "азот",
            "C": "тепло",
            "D": "топливо"
        }
    },
    24: {
        "question": "Какое из следующих утверждений НЕВЕРНО?",
        "options": {
            "A": "ВМФ канал 16 является международным каналом вызова и бедствия",
            "B": "ВМФ канал 16 можно использовать для связи между судами в пределах гавани",
            "C": "ВМФ канал 16 используется береговой охраной для вызова судов",
            "D": "ВМФ канал 16 следует использовать только для первоначального вызова, а затем перейти на рабочий канал"
        }
    },
    25: {
        "question": "Какое из следующих утверждений НЕВЕРНО?",
        "options": {
            "A": "держите якорную цепь в чистоте и смазке",
            "B": "проверьте крепление якорной цепи к судну",
            "C": "очистите якорь от грязи или водорослей после использования",
            "D": "храните якорь незакрепленным на палубе"
        }
    },
    26: {
        "question": "Вахта должна вестись",
        "options": {
            "A": "только визуально",
            "B": "только по радару",
            "C": "только на слух",
            "D": "всеми доступными средствами"
        }
    },
    27: {
        "question": "При буксировке воднолыжника шкипер должен иметь на борту",
        "options": {
            "A": "по крайней мере одного другого компетентного человека для наблюдения за воднолыжником",
            "B": "медицинскую аптечку",
            "C": "запасной буксировочный трос",
            "D": "запасной спасательный жилет"
        }
    },
    28: {
        "question": "Правый борт судна - это",
        "options": {
            "A": "передняя часть",
            "B": "задняя часть",
            "C": "правая сторона, если смотреть вперед",
            "D": "левая сторона, если смотреть вперед"
        }
    },
    29: {
        "question": "Если течение идет против ветра, море будет",
        "options": {
            "A": "спокойнее",
            "B": "более неспокойным",
            "C": "без изменений",
            "D": "более предсказуемым"
        }
    },
    30: {
        "question": "При выходе из гавани по каналу какой буй следует оставить слева?",
        "options": {
            "A": "красный буй",
            "B": "зеленый буй",
            "C": "желтый буй",
            "D": "буй безопасных вод"
        }
    }
}

def apply_translations():
    """Apply Russian translations to questions 1-30"""
    
    with open('quiz-data-final.json', 'r', encoding='utf-8') as f:
        quiz_data = json.load(f)
    
    count = 0
    for question in quiz_data:
        q_id = question['id']
        if q_id in translations:
            question['translations']['ru'] = translations[q_id]
            count += 1
    
    # Write atomically
    temp_fd, temp_path = tempfile.mkstemp(suffix='.json', text=True)
    try:
        with os.fdopen(temp_fd, 'w', encoding='utf-8') as f:
            json.dump(quiz_data, f, ensure_ascii=False, indent=2)
        os.replace(temp_path, 'quiz-data-final.json')
        print(f"✓ Translated questions 1-30 ({count} questions)")
    except Exception as e:
        os.unlink(temp_path)
        raise e

if __name__ == "__main__":
    apply_translations()
